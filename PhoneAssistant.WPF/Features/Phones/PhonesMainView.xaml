<UserControl
    x:Class="PhoneAssistant.WPF.Features.Phones.PhonesMainView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:shared="clr-namespace:PhoneAssistant.WPF.Shared"
    xmlns:viewmodel="clr-namespace:PhoneAssistant.WPF.Features.Phones"
    d:DataContext="{d:DesignInstance Type=viewmodel:PhonesMainViewModel}"
    d:DesignHeight="200"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources>
        <CollectionViewSource
            x:Key="cvsPhones"
            Filter="CollectionViewSource_Filter"
            Source="{Binding Phones}" />
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <shared:HeaderMainView HeaderIcon="CellphoneScreenshot" HeaderText="Phones" />
        <Grid
            Grid.Row="1"
            Margin="16,20,0,15"
            d:Background="LightCoral">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="{Binding ElementName=gridIMEI, Path=ActualWidth}" />
                <ColumnDefinition Width="{Binding ElementName=gridFormerUser, Path=ActualWidth}" />
                <ColumnDefinition Width="{Binding ElementName=gridWiped, Path=ActualWidth}" />
                <ColumnDefinition Width="{Binding ElementName=gridStatus, Path=ActualWidth}" />
                <ColumnDefinition Width="{Binding ElementName=gridOEM, Path=ActualWidth}" />
                <ColumnDefinition Width="{Binding ElementName=gridAssesTag, Path=ActualWidth}" />
            </Grid.ColumnDefinitions>
            <TextBox
                Name="SelectedIMEI"
                Grid.Column="0"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="IMEI"
                materialDesign:HintAssist.IsFloating="True"
                Text="{Binding SelectedPhone.IMEI}" />
            <TextBox
                Grid.Column="1"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="Former User"
                materialDesign:HintAssist.IsFloating="True"
                Text="{Binding SelectedPhone.FormerUser}" />
            <CheckBox
                Grid.Column="2"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="Wiped"
                materialDesign:HintAssist.IsFloating="True"
                IsChecked="{Binding SelectedPhone.Wiped}" />
            <ComboBox
                Grid.Column="3"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="Status"
                materialDesign:HintAssist.IsFloating="True"
                ItemsSource="{Binding States}"
                Text="{Binding SelectedPhone.Status}" />
            <TextBox
                Grid.Column="4"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="OEM"
                materialDesign:HintAssist.IsFloating="True"
                Text="{Binding SelectedPhone.OEM}" />
            <TextBox
                Grid.Column="5"
                Margin="0,0,5,0"
                materialDesign:HintAssist.Hint="Asset Tag"
                materialDesign:HintAssist.IsFloating="True"
                Text="{Binding SelectedPhone.AssetTag}" />
        </Grid>
        <!--<materialDesign:ColorZone
            Grid.Row="2"
            Margin="0,0,0,0"
            Padding="8,4,8,4"
            Panel.ZIndex="1"
            materialDesign:ElevationAssist.Elevation="Dp2"
            CornerRadius="2"
            Mode="Standard">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Button Style="{StaticResource MaterialDesignToolButton}">
                    <materialDesign:PackIcon Kind="Search" Opacity=".56" />
                </Button>

                <TextBox
                    x:Name="SearchBox"
                    Grid.Column="1"
                    MinWidth="250"
                    Margin="16,4"
                    Padding="10,5"
                    materialDesign:HintAssist.Hint="Search"
                    materialDesign:HintAssist.IsFloating="True"
                    materialDesign:TextFieldAssist.DecorationVisibility="Collapsed"
                    materialDesign:TextFieldAssist.HasClearButton="True"
                    materialDesign:TextFieldAssist.HasOutlinedTextField="True"
                    materialDesign:TextFieldAssist.TextFieldCornerRadius="4"
                    Text="{Binding SearchPhones, UpdateSourceTrigger=PropertyChanged}" />
            </Grid>
        </materialDesign:ColorZone>-->

        <DataGrid
            Name="PhonesGrid"
            Grid.Row="3"
            AlternatingRowBackground="{DynamicResource PrimaryHueLightBrush}"
            AutoGenerateColumns="False"
            CanUserAddRows="True"
            CanUserReorderColumns="False"
            CanUserResizeRows="True"
            CanUserSortColumns="True"
            IsReadOnly="true"
            ItemsSource="{Binding Source={StaticResource cvsPhones}}"
            MouseDown="PhonesGrid_MouseDown"
            SelectedItem="{Binding SelectedPhone}"
            SelectionChanged="PhonesGrid_SelectionChanged"
            SelectionMode="Single"
            SelectionUnit="FullRow">
            <DataGrid.Columns>
                <DataGridTextColumn
                    x:Name="gridIMEI"
                    Width="auto"
                    Binding="{Binding IMEI}"
                    Header="IMEI" />
                <DataGridTextColumn
                    x:Name="gridFormerUser"
                    Width="auto"
                    Binding="{Binding FormerUser}"
                    Header="Former User" />
                <DataGridCheckBoxColumn
                    x:Name="gridWiped"
                    Width="auto"
                    Binding="{Binding Wiped}"
                    Header="Wiped" />
                <DataGridTextColumn
                    x:Name="gridStatus"
                    Width="auto"
                    Binding="{Binding Status}"
                    Header="Status" />
                <DataGridTextColumn
                    x:Name="gridOEM"
                    Width="auto"
                    Binding="{Binding OEM}"
                    Header="OEM" />
                <DataGridTextColumn
                    x:Name="gridAssesTag"
                    Width="auto"
                    Binding="{Binding AssetTag}"
                    Header="Asset Tag" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>